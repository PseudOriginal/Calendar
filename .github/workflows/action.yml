on: push
name: Example Workflow
jobs:
  runNpmTarget:
    name: Run NPM target
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - name: NPM Tests
      env:
        API_KEY: ${{ secrets.API_KEY }}
        DBDATABASE: ${{ secrets.DBDATABASE }}
        DBOPTIONSDEFINECONNECTTIMEOUT: ${{ secrets.DBOPTIONSDEFINECONNECTTIMEOUT }}
        DBOPTIONSDEFINEFREEZETABLENAME: ${{ secrets.DBOPTIONSDEFINEFREEZETABLENAME }}
        DBOPTIONSDEFINEOPERATORSALIASES: ${{ secrets.DBOPTIONSDEFINEOPERATORSALIASES }}
        DBOPTIONSDEFINEPOOLACQUIRE: ${{ secrets.DBOPTIONSDEFINEPOOLACQUIRE }}
        DBOPTIONSDEFINEPOOLIDLE: ${{ secrets.DBOPTIONSDEFINEPOOLIDLE }}
        DBOPTIONSDEFINEPOOLMAX: ${{ secrets.DBOPTIONSDEFINEPOOLMAX }}
        DBOPTIONSDEFINEPOOLMIN: ${{ secrets.DBOPTIONSDEFINEPOOLMIN }}
        DBOPTIONSDIALECT: ${{ secrets.DBOPTIONSDIALECT }}
        DBOPTIONSHOST: ${{ secrets.DBOPTIONSHOST }}
        DBOPTIONSPORT: ${{ secrets.DBOPTIONSPORT }}
        DBPASSWORD: ${{ secrets.DBPASSWORD }}
        DBSECRET: ${{ secrets.DBSECRET }}
        DBUSER: ${{ secrets.DBUSER }}        
        DOMAIN: ${{ secrets.DOMAIN }}
      run: npm install; npm run test
